#!/usr/bin/env sh

# set wallpaper

[ -f "$*" ] && cp "$*" ~/.config/wall.png && notify-send -i "$HOME/.config/wall.png" "Wallpaper changed" && cat "$*" > "$HOME/.config/current_wall.txt"

[ -d "$1" ] && cp "$(find "$1" -iname "*.jpg" -o -iname "*.jpeg" -o -iname "*.png" -type f | shuf -n 1)" ~/.config/wall.png && notify-send -i "$HOME/.config/wall.png" "Random Wallpaper Choosen" && cat "$*" > "$HOME/.config/current_wall.txt"

# getting proper screen size
# convert ~/.config/wall.png -resize 1366x768 ~/.config/wall.png
# convert ~/.config/wall.png -gravity center -background white -extent 177%x100 ~/.config/wall.png

# xwallpaper --zoom ~/.config/wall.png
nitrogen --set-zoom-fill ~/.config/wall.png
